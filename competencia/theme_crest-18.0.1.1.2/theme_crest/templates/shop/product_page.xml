<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <template id="product_replace_bits" name="Product Crest">
        <!-- Qweb variable defining the class suffix for navbar items.
             Change accordingly to the derired visual result (eg. `primary`, `dark`...)-->
        <t t-set="navClass" t-valuef="light"/>
        <t t-set="is_enabled_product_zoom" t-value="theme_config.get('product_zoom')"/>
        <t t-set="is_enabled_product_offers" t-value="theme_config.get('product_offers')"/>
        <t t-set="is_enable_pricelist_offer_timer" t-value="theme_config.get('pricelist_offer_timer')"/>
        <t t-set="is_enable_product_tags" t-value="theme_config.get('product_tags')"/>
        <t t-set="is_enable_product_sku" t-value="theme_config.get('product_sku')"/>
        <t t-set="is_enable_product_brand_detail" t-value="theme_config.get('product_brand_detail')"/>
        <t t-set="is_enable_product_faq" t-value="theme_config.get('product_faq')"/>
        <t t-set="is_enable_product_sharing" t-value="theme_config.get('product_sharing')"/>
        <t t-set="is_enable_card_rattings" t-value="theme_config.get('card_rattings')"/>
        <t t-set="is_enable_product_review_tab" t-value="theme_config.get('product_review_tab')"/>
        <t t-set="is_enable_product_conditions" t-value="theme_config.get('product_conditions')"/>
        <t t-set="is_enable_product_inqiry" t-value="theme_config.get('product_inquiry')"/>
        <t t-set="is_enable_card_product_lbl" t-value="theme_config.get('card_product_lbl')"/>
        <t t-set="is_alternative" t-value="theme_config.get('show_alternative_products')"/>
        <t t-set="is_accessories" t-value="theme_config.get('show_accessory_products')"/> 
        <t t-set="is_b2b_enabled" t-value="request.website.sudo().get_b2b_config()"/>

        <t t-cache="pricelist,product,fiscal_position">
            <!-- TODO drop _get_first_possible_combination here -->
            <t t-set="combination" t-value="product._get_first_possible_combination()"/>
            <t t-set="combination_info" t-value="product._get_combination_info(combination, add_qty=add_qty)"/>
            <t t-set="product_variant" t-value="product.env['product.product'].browse(combination_info['product_id'])"/>
            <t t-call="website.layout">
                <t t-set="additional_title" t-value="product.name" />
                <div itemscope="itemscope" itemtype="http://schema.org/Product" id="wrap" class="js_sale o_wsale_product_page">
                    <div class="oe_structure oe_empty oe_structure_not_nearest" id="oe_structure_website_sale_product_1" data-editor-message="DROP BUILDING BLOCKS HERE TO MAKE THEM AVAILABLE ACROSS ALL PRODUCTS"/>
                    <section id="product_detail" t-attf-class="container py-2 oe_website_sale #{'discount' if combination_info['has_discounted_price'] else ''}" t-att-data-view-track="view_track and '1' or '0'" t-att-data-product-tracking-info="'product_tracking_info' in combination_info and json.dumps(combination_info['product_tracking_info'])">
                        <div class="row align-items-center">
                            <!-- breadcrumbs -->
                            <div class="col-12 breadcrumb-container py-3">
                                <div class="col d-flex align-items-center order-1 order-lg-0">
                                    <ol class="o_wsale_breadcrumb breadcrumb p-0 mb-4 m-lg-0">
                                        <li class="o_not_editable breadcrumb-item d-none d-lg-inline-block">
                                            <a t-att-href="keep(category=0, attribute_value=0, tags=0)">
                                                <i class="oi oi-chevron-left d-lg-none me-1" role="presentation"/>All Products
                                            </a>
                                        </li>
                                        <li t-nocache="The category does not have to be cached, as the product can be accessed via different paths."
                                            t-if="category" class="breadcrumb-item" >
                                            <a class="py-2 py-lg-0"
                                                t-att-href="keep('/shop/category/%s' % slug(category), category=0, attribute_value=0, tags=0)">
                                                <i class="oi oi-chevron-left d-lg-none me-1" role="presentation"/><t t-out="category.name"/>
                                            </a>
                                        </li>
                                        <li t-else="" class="o_not_editable breadcrumb-item d-lg-none">
                                            <a class="py-2 py-lg-0" t-att-href="keep(category=0, attribute_value=0, tags=0)" >
                                                <i class="oi oi-chevron-left me-1" role="presentation"/>All Products
                                            </a>
                                        </li>
                                        <li class="breadcrumb-item d-none d-lg-inline-block active">
                                            <span t-field="product.name" />
                                        </li>
                                    </ol>
                                </div> 
                            </div>
                        </div>
                        <div class="row" id="product_detail_main" data-name="Product Page" t-att-data-image_width="website.product_page_image_width" t-att-data-image_layout="website.product_page_image_layout"> 
                            <t t-set="image_cols" t-value="website._get_product_page_proportions()"/>
                            <div t-attf-class="col-lg-#{image_cols[0]} mt-lg-4 o_wsale_product_images position-relative"
                                t-if="website.product_page_image_width != 'none'"
                                t-att-data-image-amount="len(product_variant._get_images() if product_variant else product._get_images())" >
                                <t t-call="website_sale.shop_product_images"/>
                            </div>
                            <div t-attf-class="col-lg-#{image_cols[1]} mt-md-4" id="product_details">
                                <div class="lbl_container container_bits d-flex align-items-center flex-wrap" t-if="is_enable_card_product_lbl and len(product.product_label_ids)">
                                    <t t-foreach="product.product_label_ids" t-as="p_label">
                                        <span t-attf-class="p_label #{p_label.lable_style} me-2 mb-1" t-attf-style="border-color:#{p_label.bg_color};background-color:#{p_label.bg_color};color:#{p_label.text_color};">
                                            <t t-esc="p_label.name"/>
                                        </span>
                                    </t>
                                </div>

                                <t t-set="base_url" t-value="product.get_base_url()"/>
                                <h1 itemprop="name" t-field="product.name" class="">Product Name</h1>

                                <t t-if="is_enable_product_review_tab">
                                    <a href="#o_product_page_reviews" class="o_product_page_reviews_link text-decoration-none">
                                        <t t-call="portal_rating.rating_widget_stars_static">
                                            <t t-set="rating_avg" t-value="product.rating_avg"/>
                                            <t t-set="trans_text_plural">%s reviews</t>
                                            <t t-set="trans_text_singular">%s review</t>
                                            <t t-set="rating_count" t-value="(trans_text_plural if product.rating_count > 1 else trans_text_singular) % product.rating_count"/>
                                        </t>
                                    </a>
                                </t>
                                <span itemprop="url" style="display:none;" t-esc="base_url + product.website_url"/>
                                <span itemprop="image" style="display:none;" t-esc="base_url + website.image_url(product, 'image_1920')" />

                                <p t-field="product.description_sale" class="text-muted my-2 description-page" placeholder="A short description that will also appear on documents." />
                                <div t-field="product.description_ecommerce" class="oe_structure" placeholder="A detailed, formatted description to promote your product on this page. Use '/' to discover more features."/>
                                <div t-if="is_enable_product_sku and product.default_code" class="d-flex align-items-center mt-2">
                                    <span class="me-2 cmn-title">SKU :</span>
                                    <span class="ms-2 p_sku_bits">
                                        <t t-esc="product.default_code"/>
                                    </span>
                                </div>
                                <form t-if="product._is_add_to_cart_possible()" action="/shop/cart/update" method="POST">
                                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" t-nocache="The csrf token must always be up to date."/>
                                    <div class="js_product js_main_product">

                                        <div class="price_container_bits">
                                            <t t-call="theme_crest.product_price"/>
                                            <small t-if="combination_info['base_unit_price']" class="ms-1 text-muted o_base_unit_price_wrapper d-none" groups="website_sale.group_show_uom_price">
                                                <t t-call='website_sale.base_unit_price'/>
                                            </small>
                                        </div>

                                        <t t-if="is_enable_pricelist_offer_timer" t-set="product_prl_offer_data" t-value="product.sudo().product_variant_id._get_offer_timing(website._get_current_pricelist())"/>
                                        <div t-if="product_prl_offer_data" class="container py-3 timer_bits">
                                            <div class="pl_offer_timer d-flex align-items-center" t-att-data-offerends="product_prl_offer_data">
                                                <div class="counter-box me-2">
                                                    <span class="counter days "></span>
                                                    <p>Days</p>
                                                </div>
                                                <div class="counter-box me-2">
                                                    <span class="counter hours "></span>
                                                    <p>Hours</p>
                                                </div>
                                                <div class="counter-box me-2">
                                                    <span class="counter minutes "></span>
                                                    <p>Mins</p>
                                                </div>
                                                <div class="counter-box me-2">
                                                    <span class="counter seconds "></span>
                                                    <p>Secs</p>
                                                </div>
                                            </div>
                                        </div>
                                        <t t-placeholder="select">
                                            <input type="hidden" class="product_id" name="product_id" t-att-value="product_variant.id" />
                                            <input type="hidden" class="product_template_id" name="product_template_id" t-att-value="product.id" />
                                            <input t-if="product.public_categ_ids.ids" type="hidden" class="product_category_id" name="product_category_id" t-att-value="product.public_categ_ids.ids[0]" />
                                            <t t-call="website_sale.variants">
                                                <t t-set="ul_class" t-value="'flex-column py-0' if not len(product.valid_product_template_attribute_line_ids) else 'flex-column'"/>
                                                <t t-set="parent_combination" t-value="None" />
                                            </t>
                                        </t>
                                        <div class="o_shop_wrap_box_bits">
                                            <div class="availability_messages o_not_editable"/>
                                            <p t-if="True" class="css_not_available_msg alert alert-warning m-0">This combination does not exist.</p>
                                            <div id="o_wsale_cta_wrapper" class="d-flex flex-wrap align-items-center">
                                                <t t-set="hasBuyNow" t-value="false"/>
                                                <t t-set="ctaSizeBig" t-value="not hasQuantities or not hasBuyNow"/>
                                                <div class="cta-container-1 w-100">
                                                    <!-- Cart Buttons -->
                                                    <div id="add_to_cart_wrap" t-attf-class="{{'d-none' if combination_info['prevent_zero_price_sale'] else 'd-flex'}} align-items-center mb-2 me-auto">
                                                        <!-- Cart Qty -->
                                                        <div t-attf-class="css_quantity input-group {{'d-none' if combination_info['prevent_zero_price_sale'] else 'd-flex'}} align-middle" contenteditable="false">
                                                            <a t-attf-href="#" class="btn btn-link js_add_cart_json" aria-label="Remove one" title="Remove one">
                                                                <i class="fa fa-minus"></i>
                                                            </a>
                                                            <input type="text" class="form-control quantity text-center" data-min="1" name="add_qty" t-att-value="add_qty or 1"/>
                                                            <a t-attf-href="#" class="btn btn-link float_left js_add_cart_json" aria-label="Add one" title="Add one">
                                                                <i class="fa fa-plus"></i>
                                                            </a>
                                                        </div>
                                                        <!-- Cart Qty End-->
                                                        <t t-if="not is_b2b_enabled">
                                                            <div class="btn-cart-group d-flex ">
                                                                <a role="button" class="btn btn-primary o_we_buy_now ms-1 btn-actions-group" href="#">
                                                                    <i class="fa fa-bolt me-2"/>
                                                            Buy Now 
                                                                </a>
                                                                <a data-animation-selector=".o_wsale_product_images" role="button" id="add_to_cart" t-attf-class="btn text-nowrap btn-outline-primary js_check_product a-submit btn-actions-group" href="#">
                                                                    <i class="fa fa-shopping-cart"/>
                                                            Add To Cart
                                                                </a>
                                                            </div>
                                                        </t>
                                                        <t t-else="">
                                                        </t>

                                                    </div>
                                                    <div id="product_option_block" class="d-flex flex-wrap cta-container-1 align-items-center">
                                                        <t t-nocache="The wishlist depends on the user and must not be shared with other users. The product come from the controller.">
                                                            <t t-set="product_variant" t-value="product_variant or product._create_first_product_variant()"/>
                                                            <t t-set="in_wish" t-value="product_variant and product_variant._is_in_wishlist()"/>
                                                            <a t-if="product_variant" type="button" role="button" class="btn-actions-group btn btn-outline-primary btn- px-0 pe-3 o_add_wishlist_dyn" t-att-disabled='in_wish or None' t-att-data-product-template-id="product.id" t-att-data-product-product-id="product_variant.id" data-action="o_wishlist" title="Add to wishlist">
                                                                <i class="fa fa-heart-o" role="img" aria-label="Add to wishlist"/>
                                                                Add to wishlist
                                                            </a>
                                                        </t>
                                                        <!-- <div class="co_action btn-compare" title="Add to Compare"> -->
                                                        <t t-set="product_variant_id" t-value="product._get_first_possible_variant_id()"/>
                                                        <a class="o_add_compare btn btn-outline-primary btn-actions-group" title="Add to Compare" aria-label="Compare" t-att-data-product-product-id="product_variant_id" data-action="o_comparelist">
                                                            <i class="fa fa-bar-chart-o"/>
                                                            Compare

                                                        </a>
                                                        <!-- </div> -->
                                                        <div t-if="is_enable_product_inqiry">
                                                            <div class="card-adv-info d-flex align-items-center">
                                                                <a class="btn btn-link btn-inquiry d-flex align-items-center text-decoration-none p-0" t-att-data-product_id="product.id" t-att-data-product_name="product.name">
                                                                    <i class="fa fa-question-circle-o me-1"/>
                                                                    <span>Product Inquiry</span>
                                                                </a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div> 
                                            </div>
                                        </div>
                                        <!-- Tags -->
                                        <div class="extra-fields bg-gray mt-3" t-if="len(product_variant.all_product_tag_ids) != 0">
                                            <div t-if="is_enable_product_tags" class="d-flex align-items-center flex-wrap">
                                                <span class="me-2 cmn-title">Tags :</span>
                                                <t t-call="theme_crest.product_tags_bits">
                                                    <t t-set="all_product_tags" t-value="product_variant.all_product_tag_ids"/>
                                                </t>
                                            </div>
                                        </div>
                                        <!-- offer -->
                                        <div t-if="is_enabled_product_offers and product.product_offers_ids" class="product_offers_container">
                                            <span class="ofr-title">Available offers :</span>
                                            <ul class="list-unstyled mt-1 mb-0">
                                                <t t-foreach="product.product_offers_ids" t-as="offer">
                                                    <li class="offer_wrap d-flex align-items-center">
                                                        <i t-attf-class="fa fa-#{offer.offer_icon if offer.offer_icon else 'tags'} me-2"/>
                                                        <span class="offer-subtitle me-1" t-esc="offer.name"/>
                                                        <!-- <span t-esc="offer.offer_description"/> -->
                                                        <a class="off_more_detail text-primary ms-2 cursor-pointer" data-dtype="offer" t-att-data-title="offer.name" t-att-data-record_id="offer.id">Know More</a>
                                                    </li>
                                                </t>
                                            </ul>
                                        </div>

                                        <!-- Brand info -->
                                        <div t-if="is_enable_product_brand_detail and product.brand_id" class="product-brands mt-3">
                                            <div class="row m-auto align-items-center py-2 ">
                                                <div class="col-1 brand-img-container px-0">
                                                    <img class="img img-fluid brand-image" t-attf-src="/web/image/product.brands/#{product.brand_id.id}/brand_image" t-att-alt="product.brand_id.name" t-att-title="product.brand_id.name"/>
                                                </div>
                                                <div class="col-11">
                                                    <span class="b-title d-block">
                                                        <t t-esc="product.brand_id.name"/>
                                                    </span>
                                                    <span class="b-desc mt-1">
                                                        <t t-esc="product.brand_id.brand_description"/>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>  
                                    </div>
                                </form>
                                <p t-elif="not product.active" class="alert alert-warning">This product is no longer available.</p>
                                <p t-else="" class="alert alert-warning">This product has no valid combination.</p>
                                <div class="adv-info-container">
                                    <t t-call="theme_crest.adv_info_bits"/>
                                </div>
                            </div>
                        </div> 
                    </section>
                    <section class="product_details_container mt-2">
                        <div class="container">
                            <div class="product_tabs_bits">
                                <div class="tabs-navigation">
                                    <div class="nav nav-tabs" id="nav-tab" role="tablist">
                                        <button class="nav-link active px-2" id="nav-product-specifications" data-bs-toggle="tab" data-bs-target="#product-specifications" type="button" role="tab" aria-controls="product-specifications" aria-selected="true">
                                            <span class="nav_tab_title">Specifications</span>
                                        </button>
                                        <button class="nav-link px-2" id="nav-product-description" data-bs-toggle="tab" data-bs-target="#product-description" type="button" role="tab" aria-controls="product-description" aria-selected="true">
                                            <span class="nav_tab_title">Description</span>
                                        </button>
                                        <button class="nav-link px-2" id="nav-product-documents" data-bs-toggle="tab" data-bs-target="#product-documents" type="button" role="tab" aria-controls="product-documents" aria-selected="true">
                                            <span class="nav_tab_title">Documents</span>
                                        </button>
                                        <button class="nav-link px-2" id="nav-product-faqs" data-bs-toggle="tab" data-bs-target="#product-faqs" type="button" role="tab" aria-controls="product-faqs" aria-selected="true">
                                            <span class="nav_tab_title">FAQs</span>
                                        </button>
                                        <button t-if="is_enable_product_review_tab" class="nav-link px-2" id="nav-product-reviews" data-bs-toggle="tab" data-bs-target="#product-reviews" type="button" role="tab" aria-controls="product-reviews" aria-selected="true">
                                            <span class="nav_tab_title">Reviews</span>
                                        </button>
                                    </div>
                                </div>
                                <div class="tab-content accordion">
                                    <div class="tab-pane fade show active py-3" aria-labelledby="nav-product-specifications" id="product-specifications">
                                        <t t-call="theme_crest.product_specification_bits"/>
                                    </div>
                                    <div class="tab-pane fade py-3" aria-labelledby="nav-product-description" id="product-description">
                                        <section class="website_description">
                                            <div itemprop="description" t-field="product.website_description" class="oe_structure oe_empty mt16" id="product_full_description"/>
                                        </section>
                                    </div>
                                    <div class="tab-pane fade py-3" aria-labelledby="nav-product-documents" id="product-documents">
                                        <t t-set="product_documents" t-value="product.sudo().product_document_ids.filtered(lambda doc: doc.shown_on_product_page)"/>
                                        <div id="product_documents" class="my-2 container" t-if="product_documents">
                                            <div class="row m-auto">
                                                <t t-foreach="product_documents" t-as="document_sudo">
                                                    <t t-set="attachment_sudo" t-value="document_sudo.ir_attachment_id"/>
                                                    <t t-set="target" t-value="attachment_sudo.type == 'url' and '_blank' or '_self'"/>
                                                    <t t-set="icon" t-value="attachment_sudo.type == 'url' and 'fa-link' or 'fa-download'"/>

                                                    <div class="col-6 col-md-3 col-lg-3 ">
                                                        <div class="row m-auto ms-1 doc-card align-items-center h-100">
                                                            <div class="col-3 text-center px-0">
                                                                <i class="fa fa-fw fa-file-text-o fa-3x"/>
                                                                <!-- <div class="img image-bg doc-type" t-att-data-dtype="attachment_sudo.mimetype"/> -->
                                                            </div>
                                                            <div class="col-9 px-0 d-block h-100 text-start">
                                                                <span t-field="attachment_sudo.name"/>
                                                                <a class="btn btn-link download-btn px-0 d-block text-start" t-att-href="'/shop/' + slug(product) + '/document/' + str(document_sudo.id)" t-att-target="target">
                                                                    Download
                                                                    <i t-att-class="'fa ' + icon"/>
                                                                </a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </t>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane fade py-3" aria-labelledby="nav-product-faqs" id="product-faqs">
                                        <section class="s_faq_collapse pt32 pb32 o_colored_level" data-snippet="s_faq_collapse" data-name="Accordion">
                                            <div class="container">
                                                <t t-if="product.product_faq_id" t-foreach="product.product_faq_id.product_faq_line_ids" t-as="faq_line">
                                                    <div class="accordion mt-3" t-att-id="faq_line.id">
                                                        <div class="accordion-item">
                                                            <h2 class="accordion-header">
                                                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" t-attf-data-bs-target="#collaps_tab_{{faq_line.id}}" aria-expanded="true" t-attf-aria-controls="collaps_tab_{{faq_line.id}}">
                                                                    <t t-esc="faq_line.name"/>
                                                                </button>
                                                            </h2>
                                                            <div t-attf-id="collaps_tab_{{faq_line.id}}" class="accordion-collapse collapse" data-bs-parent="#accordion">
                                                                <div class="accordion-body">
                                                                    <t t-esc="faq_line.answer" />
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </t>
                                            </div>
                                        </section>
                                    </div>
                                    <div t-if="is_enable_product_review_tab" class="tab-pane fade py-3" aria-labelledby="nav-product-reviews" id="product-reviews">
                                        <div id="o_product_page_reviews_content" class="w-100">
                                            <t t-call="portal.message_thread">
                                                <t t-set="object" t-value="product"/>
                                                <t t-set="display_rating" t-value="True"/>
                                                <t t-set="message_per_page" t-value="5"/>
                                                <t t-set="two_columns" t-value="true"/>
                                            </t>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                    <div id="related_product_container" class="related_product_container pt-2">
                    </div>
                    <!-- <div itemprop="description" class="oe_structure oe_empty mt16" id="product_full_description"/> -->
                    <div class="oe_structure oe_empty oe_structure_not_nearest mt16" id="oe_structure_website_sale_product_2" data-editor-message="DROP BUILDING BLOCKS HERE TO MAKE THEM AVAILABLE ACROSS ALL PRODUCTS"/>
                </div>
                <!-- sticky Product view -->
                <t t-set="is_b2b_enabled" t-value="request.website.sudo().get_b2b_config()"/>

                <t t-if="not is_b2b_enabled">
                    <t t-if="True">
                        <t t-call="theme_crest.sticky_product_view_bits"/>
                    </t>
                </t>
            </t>
        </t>
    </template>
    <template id="product_specification_bits" name="Product Specification">
        <t t-set="categories" t-value="product.valid_product_template_attribute_line_ids._prepare_categories_for_display()"/>
        <t t-if="categories">
            <section class="specification_bits">
                <div class="container">
                    <div id="product_specifications">
                        <div class="row">
                            <div class="col-lg-12"></div>
                            <t t-foreach="categories" t-as="category">
                                <div class="col-lg-12 px-0">
                                    <table class="table">
                                        <t t-if="len(categories) > 1">
                                            <tr>
                                                <th class="text-start" t-att-colspan="2">
                                                    <span t-if="category" t-field="category.name"/>
                                                    <span t-else="">Uncategorized</span>
                                                </th>
                                            </tr>
                                        </t>
                                        <tr t-foreach="categories[category].filtered(lambda l: len(l.value_ids) > 1)" t-as="ptal">
                                            <td class="w-25">
                                                <span t-field="ptal.attribute_id.name"/>
                                            </td>
                                            <td class="w-75 text-muted">
                                                <t t-foreach="ptal.value_ids" t-as="pav">
                                                    <span t-field="pav.name"/>
                                                    <t t-if="not pav_last"> or</t>
                                                </t>
                                            </td>
                                        </tr>
                                        <t t-set="single_value_attributes" t-value="categories[category]._prepare_single_value_for_display()"/>
                                        <tr t-foreach="single_value_attributes" t-as="attribute">
                                            <td class="w-25">
                                                <span t-field="attribute.name"/>
                                            </td>
                                            <td class="w-75 text-muted">
                                                <t t-foreach="single_value_attributes[attribute]" t-as="ptal">
                                                    <span t-field="ptal.product_template_value_ids._only_active().name"/>
                                                    <t t-if="not ptal_last">, </t>
                                                </t>
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </t>
                        </div>
                    </div>
                </div>
            </section>
        </t>
    </template>
    <!-- removed default specification section from base odoo -->
    <template id="product_attributes_body_bits" inherit_id="website_sale_comparison.product_attributes_body" name="Product Attribute">
        <xpath expr="//t[@t-if='categories']" position="replace"/>
    </template>
    <!-- removed default review section from base odoo -->
    <template id="product_comment_bits" inherit_id="website_sale.product_comment" name="comment">
        <xpath expr="//div[contains(@class,'o_shop_discussion_rating')]" position="replace" />
    </template>
    <!-- Added attribute details -->
    <template id="variantsBits" inherit_id="website_sale.variants" name="Variants">
        <xpath expr="//strong[@t-field='ptal.attribute_id.name']" position="replace">
            <div class="d-flex align-items-center product_offers_container">
                <strong t-field="ptal.attribute_id.name" class="attribute_name p-0"/>
                <a class="btn-link attr_more_detail text-lowercase" data-dtype="attribute" t-att-data-title="ptal.attribute_id.attribute_details_id.name" t-att-data-record_id="ptal.attribute_id.attribute_details_id.id">
                    <t t-esc="ptal.attribute_id.attribute_details_id.name"/>
                </a>
            </div>
        </xpath>
    </template>
    <template id="product_tags_bits" name="Product Tags">
        <t t-foreach="all_product_tags" t-as="tag">
            <t t-if="tag.visible_on_ecommerce">
                <span class="text-nowrap ms-2 badge" t-field="tag.name" t-attf-style="background-color: #{tag.color} !important;color:#fff !important; padding : 3px 8px; text-transform:capitalize; border-radius : 100px; margin : 4px 0px;"/>
                <t t-if="len(all_product_tags) > 1 and tag_first"></t>
                
            </t>
        </t>
    </template>
    <template id="adv_info_bits" name="Product Advance Info">
        <div >
            <div class="row o_term_and_conditions_inner mt-2 m-0">
                <t t-if="is_enable_product_conditions" t-foreach="product.terms_conditions_id.product_terms_lines" t-as="term">
                    <div class="col-lg-4 col-12 p-0 py-1">
                        <div class=" d-flex align-items-center o_term_and_conditions ">
                            <div class="img">
                                <t t-if="term.indication_type == 'icon'">
                                    <i t-attf-class="#{term.indication_icon} mb-1 terms-icon"/>
                                </t>
                                <t t-else="">
                                    <img class="img img-fluid mb-1 terms-img" t-attf-src="/web/image/product.terms.lines/#{term.id}/indication_img"/>
                                </t>
                            </div>
                            <div class="px-1 text-center">
                                <span t-field="term.name" t-attf-class="pt-2 #{t_name} terms-title text-center" />
                            </div>
                        </div>
                    </div>
                </t>
            </div>
            <div t-if="is_enable_product_sharing" class="d-flex justify-content-between flex-column flex-md-row align-items-md-end mb-3" id="o_product_terms_and_share">
                <t t-call="theme_crest.s_share_bits">
                    <t t-set="url" t-value="product.website_url"/>
                    <t t-set="title" t-value="product.name"/>
                </t>
            </div>

        </div>
    </template>
    <template id="website_sale_stock_product" inherit_id="theme_crest.product_replace_bits">
        <xpath expr="//div[@id='product_details']" position="inside">
            <input id="wsale_user_email" type="hidden" t-att-value="user_email"/>
        </xpath>
    </template>

    <template id="sticky_product_view_bits" name="Product Sticky View">
        <div class="sticky-product-container d-flex">
            <div class="p-2 sticky-img">
                <img t-att-src="'/web/image/product.template/%s/image_256' % product.id" class="img img-fluid rounded" alt="Product Image"/>
            </div>
            <t t-set="is_b2b_enabled" t-value="request.website.sudo().get_b2b_config()"/>
            <div class="py-2 sticky-content text-start">
                <h6 itemprop="name" t-field="product.name" class="product-name"/>
                <h3>
                    <t t-if="not is_b2b_enabled">
                        <span class="aoe_price" style="white-space: nowrap;" t-esc="combination_info['price']" t-options="{'widget': 'monetary', 'display_currency': website.currency_id}"/>
                        <span t-attf-class="text-danger soe_default_price ms-1 {{'' if combination_info['has_discounted_price'] else 'd-none'}}" style="text-decoration: line-through; white-space: nowrap;" t-esc="combination_info['list_price']" t-options="{'widget': 'monetary', 'display_currency': website.currency_id}"/>
                    </t>
                    <t t-else="">
                        <t t-call="theme_crest.b2b_pricing_content_bits"/>
                    </t>

                    <t t-if="is_view_active('website_sale.tax_indication')" t-call="website_sale.tax_indication"/>
                    <del t-if="product.compare_list_price">
                        <span t-esc="product.compare_list_price" groups="website_sale.group_product_price_comparison" t-options='{
                            "widget": "monetary",
                            "display_currency": product.currency_id,
                        }'/>
                    </del>
                </h3>
            </div>
            <div class="p-2 sticky-action top-0">
                <a data-animation-selector=".o_wsale_product_images" role="button" id="add_to_cart" t-attf-class="btn btn-outline-primary js_check_product a-submit btn-actions-group" href="#">
                    <i class="fa fa-shopping-cart"/>
                </a>
            </div>
        </div>
    </template>

    <template id="theme_crest.dynamic_filter_template_product_product_borderless_1_bits" inherit_id="website_sale.dynamic_filter_template_product_product_borderless_1" active="False">
        <xpath expr="//t[@t-call='website_sale.price_dynamic_filter_template_product_product']" position="replace">
            <t t-set="is_b2b_enabled" t-value="request.website.sudo().get_b2b_config()"/>
            <t t-if="not is_b2b_enabled">
                <t t-call="website_sale.price_dynamic_filter_template_product_product"/>
            </t>
            <t t-else="">
                <t t-call="theme_crest.b2b_pricing_content_bits"/>
            </t>
        </xpath>
    </template>

    <template id="theme_crest.dynamic_filter_template_product_product_borderless_2_bits" inherit_id="website_sale.dynamic_filter_template_product_product_borderless_2">
        <xpath expr="//div[contains(@class,'text-end o_dynamic_snippet_btn_wrapper')]" position="replace">
            <t t-set="is_b2b_enabled" t-value="request.website.sudo().get_b2b_config()"/>

            <t t-if="not is_b2b_enabled">
                <div class="text-end o_dynamic_snippet_btn_wrapper" t-if="record._website_show_quick_add()">
                    <t t-set="product_template_id" t-value="record.id if not record.is_product_variant else record.product_tmpl_id.id"/>
                    <t t-set="product_id" t-value="record.id if record.is_product_variant else record.product_variant_id.id"/>
                    <button
                        type="button"
                        role="button"
                        class="btn btn-primary js_add_cart w-100"
                        title="Add to Cart"
                        t-att-data-product-id="product_id"
                        t-att-data-product-template-id="product_template_id"
                        t-att-data-product-selected="record.is_product_variant"
                    >
                        Add to Cart
                    </button>
                </div>
            </t>
        </xpath>
        <xpath expr="//t[@t-call='website_sale.price_dynamic_filter_template_product_product']" position="replace">
            <t t-set="is_b2b_enabled" t-value="request.website.sudo().get_b2b_config()"/>

            <t t-if="not is_b2b_enabled">
                <t t-call="website_sale.price_dynamic_filter_template_product_product"/>
            </t>
            <t t-else="">
                <t t-call="theme_crest.b2b_pricing_content_bits"/>
            </t>
        </xpath>

    </template>

    <template id="theme_crest.dynamic_filter_template_product_product_card_group_bits" inherit_id="website_sale.dynamic_filter_template_product_product_card_group">
        <xpath expr="//t[@t-call='website_sale.price_dynamic_filter_template_product_product']" position="replace">
            <t t-set="is_b2b_enabled" t-value="request.website.sudo().get_b2b_config()"/>
            <t t-if="not is_b2b_enabled">
                <t t-call="website_sale.price_dynamic_filter_template_product_product"/>
            </t>
            <t t-else="">
                <t t-call="theme_crest.b2b_pricing_content_bits"/>
            </t>
        </xpath>
    </template>

    <template id="theme_crest.dynamic_filter_template_product_product_centered_bits" inherit_id="website_sale.dynamic_filter_template_product_product_centered">
        <xpath expr="//t[@t-call='website_sale.price_dynamic_filter_template_product_product']" position="replace">
            <t t-set="is_b2b_enabled" t-value="request.website.sudo().get_b2b_config()"/>

            <t t-if="not is_b2b_enabled">
                <t t-call="website_sale.price_dynamic_filter_template_product_product"/>
            </t>
            <t t-else="">
                <t t-call="theme_crest.b2b_pricing_content_bits"/>
            </t>
        </xpath>
    </template>

    <template id="theme_crest.dynamic_filter_template_product_product_add_to_cart_bits" inherit_id="website_sale.dynamic_filter_template_product_product_add_to_cart">
        <xpath expr="//div[contains(@class,'o_dynamic_snippet_btn_wrapper')]" position="replace">
            <t t-set="is_b2b_enabled" t-value="request.website.sudo().get_b2b_config()"/>
            <t t-if="not is_b2b_enabled">
                <div class="o_dynamic_snippet_btn_wrapper" t-if="record._website_show_quick_add()">
                    <button
                        type="button"
                        role="button"
                        class="btn btn-primary js_add_cart ms-auto"
                        title="Add to Cart"
                        t-att-data-product-id="product_id"
                        t-att-data-product-template-id="product_template_id"
                        t-att-data-product-selected="record.is_product_variant"
                    >
                        <i class="fa fa-fw fa-shopping-cart"/>
                    </button>
                </div>
            </t>
        </xpath>
        <xpath expr="//t[@t-call='website_sale.price_dynamic_filter_template_product_product']" position="replace">
            <t t-set="is_b2b_enabled" t-value="request.website.sudo().get_b2b_config()"/>

            <t t-if="not is_b2b_enabled">
                <t t-call="website_sale.price_dynamic_filter_template_product_product"/>
            </t>
            <t t-else="">
                <t t-call="theme_crest.b2b_pricing_content_bits"/>
            </t>
        </xpath>
    </template>

    <template id="theme_crest.dynamic_filter_template_product_product_view_detail_bits" inherit_id="website_sale.dynamic_filter_template_product_product_view_detail">

        <xpath expr="//t[@t-call='website_sale.price_dynamic_filter_template_product_product']" position="replace">
            <t t-set="is_b2b_enabled" t-value="request.website.sudo().get_b2b_config()"/>

            <t t-if="not is_b2b_enabled">
                <t t-call="website_sale.price_dynamic_filter_template_product_product"/>
            </t>
            <t t-else="">
                <t t-call="theme_crest.b2b_pricing_content_bits"/>
            </t>
        </xpath>
    </template>

    <template id="theme_crest.dynamic_filter_template_product_product_horizontal_card_bits" inherit_id="website_sale.dynamic_filter_template_product_product_horizontal_card">
        <xpath expr="//div[contains(@class,'o_dynamic_snippet_btn_wrapper ms-auto')]" position="replace">
            <t t-set="is_b2b_enabled" t-value="request.website.sudo().get_b2b_config()"/>
            <t t-if="not is_b2b_enabled">
                <div t-if="record._website_show_quick_add()" class="o_dynamic_snippet_btn_wrapper ms-auto">
                    <t t-set="product_template_id" t-value="record.id if not record.is_product_variant else record.product_tmpl_id.id"/>
                    <t t-set="product_id" t-value="record.id if record.is_product_variant else record.product_variant_id.id"/>
                    <button
                        type="button"
                        role="button"
                        class="btn btn-primary js_add_cart"
                        title="Add to Cart"
                        t-att-data-product-id="product_id"
                        t-att-data-product-template-id="product_template_id"
                        t-att-data-product-selected="record.is_product_variant"
                    >
                        <i class="fa fa-fw fa-shopping-cart"/>
                    </button>
                </div>
            </t>
        </xpath>
        <xpath expr="//t[@t-call='website_sale.price_dynamic_filter_template_product_product']" position="replace">
            <t t-set="is_b2b_enabled" t-value="request.website.sudo().get_b2b_config()"/>

            <t t-if="not is_b2b_enabled">
                <t t-call="website_sale.price_dynamic_filter_template_product_product"/>
            </t>
            <t t-else="">
                <t t-call="theme_crest.b2b_pricing_content_bits"/>
            </t>
        </xpath>
    </template>

    <template id="theme_crest.dynamic_filter_template_product_product_horizontal_card_2_bits" inherit_id="website_sale.dynamic_filter_template_product_product_horizontal_card_2">
        <xpath expr="//div[contains(@class,'o_dynamic_snippet_btn_wrapper')]" position="replace">
            <t t-set="is_b2b_enabled" t-value="request.website.sudo().get_b2b_config()"/>
            <t t-if="not is_b2b_enabled">
                <div t-if="record._website_show_quick_add()" class="o_dynamic_snippet_btn_wrapper">
                    <t t-set="product_template_id" t-value="record.id if not record.is_product_variant else record.product_tmpl_id.id"/>
                    <t t-set="product_id" t-value="record.id if record.is_product_variant else record.product_variant_id.id"/>
                    <button
                        type="button"
                        role="button"
                        class="btn btn-primary js_add_cart"
                        title="Add to Cart"
                        t-att-data-product-id="product_id"
                        t-att-data-product-template-id="product_template_id"
                        t-att-data-product-selected="record.is_product_variant"
                    >
                        Add to Cart
                    </button>
                </div>
            </t>
        </xpath>
        <xpath expr="//t[@t-call='website_sale.price_dynamic_filter_template_product_product']" position="replace">
            <t t-set="is_b2b_enabled" t-value="request.website.sudo().get_b2b_config()"/>

            <t t-if="not is_b2b_enabled">
                <t t-call="website_sale.price_dynamic_filter_template_product_product"/>
            </t>
            <t t-else="">
                <t t-call="theme_crest.b2b_pricing_content_bits"/>
            </t>
        </xpath>
    </template>

    <template id="theme_crest.dynamic_filter_template_product_product_mini_price_bits" inherit_id="website_sale.dynamic_filter_template_product_product_mini_price">
        <xpath expr="//t[@t-call='website_sale.price_dynamic_filter_template_product_product']" position="replace">
            <t t-set="is_b2b_enabled" t-value="request.website.sudo().get_b2b_config()"/>

            <t t-if="not is_b2b_enabled">
                <t t-call="website_sale.price_dynamic_filter_template_product_product"/>
            </t>
            <t t-else="">
                <t t-call="theme_crest.b2b_pricing_content_bits"/>
            </t>
        </xpath>
    </template>

    <template id="theme_crest.dynamic_filter_template_product_product_banner_bits" inherit_id="website_sale.dynamic_filter_template_product_product_banner">
        <xpath expr="//button[contains(@class,'btn btn-primary js_add_cart mt-1')]" position="replace">
            <t t-set="is_b2b_enabled" t-value="request.website.sudo().get_b2b_config()"/>
            <t t-if="not is_b2b_enabled">
                <button
                    t-if="record._website_show_quick_add()"
                    type="button"
                    role="button"
                    class="btn btn-primary js_add_cart mt-1"
                    title="Add to Cart"
                    t-att-data-product-id="product_id"
                    t-att-data-product-template-id="product_template_id"
                    t-att-data-product-selected="record.is_product_variant"
                >
                    Add to Cart
                </button>
            </t>
        </xpath>
        <xpath expr="//t[@t-call='website_sale.price_dynamic_filter_template_product_product']" position="replace">
            <t t-set="is_b2b_enabled" t-value="request.website.sudo().get_b2b_config()"/>

            <t t-if="not is_b2b_enabled">
                <t t-call="website_sale.price_dynamic_filter_template_product_product"/>
            </t>
            <t t-else="">
                <t t-call="theme_crest.b2b_pricing_content_bits"/>
            </t>
        </xpath>
    </template>

    <!-- Product options: Zoom -->
    <template inherit_id='theme_crest.product_replace_bits' id="product_picture_magnify_hover_bits" name="Automatic Image Zoom">
        <xpath expr='//div[hasclass("o_wsale_product_page")]' position='attributes'>
            <attribute name="data-ecom-zoom-auto">1</attribute>
            <attribute name="class" separator=" " add="ecom-zoomable zoomodoo-next" />
        </xpath>
    </template>

    <template inherit_id='theme_crest.product_replace_bits' id="product_picture_magnify_click_bits" active="False" name="Image Zoom On Click">
        <xpath expr='//div[hasclass("o_wsale_product_page")]' position='attributes'>
            <attribute name="data-ecom-zoom-click">1</attribute>
            <attribute name="class" separator=" " add="ecom-zoomable zoomodoo-next" />
        </xpath>
    </template>

    <template inherit_id='theme_crest.product_replace_bits' id="product_picture_magnify_both_bits" active="False" name="Automatic Image Zoom And On Click">
        <xpath expr='//div[hasclass("o_wsale_product_page")]' position='attributes'>
            <attribute name="data-ecom-zoom-auto">1</attribute>
            <attribute name="data-ecom-zoom-click">1</attribute>
            <attribute name="class" separator=" " add="ecom-zoomable zoomodoo-next" />
        </xpath>
    </template>

    <template id="dynamic_filter_template_product_product_bits_1" name="bits Product n1">
        <t t-foreach="records" t-as="data" data-thumb="/website_sale/static/src/img/snippets_options/product_borderless_1.svg">
            <t t-set="record" t-value="data['_record']"/>
            <t t-set="product_template_id" t-value="record.id if not record.is_product_variant else record.product_tmpl_id.id"/>
            <t t-set="product_id" t-value="record.id if record.is_product_variant else record.product_variant_id.id"/>
            <div class="o_carousel_product_card bg-transparent w-100  border-0 text-center" t-if="record">
                <div t-if="is_sample" class="h5 o_ribbon_right bg-primary text-uppercase">Sample</div>
                <div class="position-relative product-img">
                    <input type="hidden" name="product-id" t-att-data-product-id="record.id"/>
                    <a class="o_carousel_product_img_link o_dynamic_product_hovered stretched-link " t-att-href="record.website_url">
                        <div class="overflow-hidden rounded">
                            <img class="card-img-top o_img_product_square o_img_product_cover h-auto" loading="lazy" t-att-src="data['image_512']" t-att-alt="record.display_name"/>
                        </div>
                    </a>
                    <!-- Compare List -->
                    <div class="action-btn d-flex align-items-center justify-content-center">
                        <t t-set="product_variant_id" t-value="record.id"/>
                        <t t-if="product_variant_id">
                            <a class="o_add_compare btn btn-outline-primary btn-actions-group" title="Add to Compare" aria-label="Compare" t-att-data-product-product-id="product_variant_id" data-action="o_comparelist">
                                <i class="fa fa-bar-chart-o"/>
                            </a>
                        </t>
                        <!-- quick -->
                        <div class="quick_view_container">
                            <button type="button" role="button" class="o_quick_view_btn w-100" title="Quick View" t-att-data-product-template-id="product_template_id" data-action="o_quick_view">
                                <i class="fa fa-eye"/>
                            </button>
                        </div>
                        <!-- wishlist -->
                        <div id="product_option_block" class=" btn-wish">
                            <t t-nocache="The wishlist depends on the user and must not be shared with other users. The product comes from the controller.">
                                <t t-set="product_variant" t-value="record" />
                                <t t-set="in_wish" t-value="product_variant and product_variant._is_in_wishlist()" />
                                <a t-if="product_variant" type="button" role="button" class="btn-actions-group btn btn-outline-primary btn px-0 o_add_wishlist_dyn" t-att-disabled="in_wish or None" t-att-data-product-template-id="product_template_id" t-att-data-product-product-id="product_variant.id" data-action="o_wishlist" title="Add to wishlist">
                                    <i class="fa fa-heart-o" role="img" aria-label="Add to wishlist" />
                                </a>
                            </t>
                        </div>
                    </div>
                </div>
                <t t-set="is_b2b_enabled" t-value="request.website.sudo().get_b2b_config()"/>
                <div class="o_carousel_product_card_body">
                    <t t-if="not is_b2b_enabled">
                        <div class="text-end o_dynamic_snippet_btn_wrapper" t-if="record._website_show_quick_add()">
                            <button
                                type="button"
                                role="button"
                                class="btn btn-primary js_add_cart w-100 js_add_cart "
                                title="Add to Cart"
                                t-att-data-product-id="product_id"
                                t-att-data-product-template-id="product_template_id"
                                t-att-data-product-selected="record.is_product_variant">
                                 <i class="px-1 fa fa-shopping-basket"></i>
                                Add to Cart
                            </button>
                        </div>
                    </t>
                    <t t-else="">
                        <t t-call="theme_crest.b2b_pricing_content_bits"/>
                    </t>
                    <div class="h6 card-title mx-2 text-start mt-2" t-field="record.display_name"/>
                    <t t-call="portal_rating.rating_widget_stars_static">
                        <t t-set="rating_avg" t-value="record.rating_avg"/>
                        <t t-set="rating_count" t-value="record.rating_count"/>
                    </t>
                    <div class="my-2 mx-2 text-start" t-if="not is_b2b_enabled">
                        <t t-call="website_sale.price_dynamic_filter_template_product_product"/>
                    </div>
                </div>
            </div>
        </t>
    </template>


    <!-- alternative and accessory -->
    <template id="alternative_product_bits" name="alternative">
        <div class="oe_structure oe_structure_solo oe_unremovable oe_unmovable" id="oe_structure_website_sale_recommended_products_alternative_product_bits" t-if="product.alternative_product_ids">
            <section data-snippet="s_dynamic_snippet_products" class="oe_unmovable oe_unremovable s_dynamic_snippet_products o_wsale_alternative_products s_dynamic pt32 pb32 o_colored_level s_product_product_bits_1" data-name="Alternative Products" style="background-image: none;" t-att-data-filter-id="product._get_alternative_product_filter()" data-template-key="theme_crest.dynamic_filter_template_product_product_bits_1" data-product-category-id="all" data-number-of-elements="4" data-number-of-elements-small-devices="1" data-number-of-records="16" data-carousel-interval="5000" data-bs-original-title="" title="">
                <div class="container mb-2" id="bits-title-style-4">
                    <div class="row m-auto">
                        <div class="col-12 mx-auto d-flex justify-content-between align-items-center px-0">
                            <h2 class="s-fs-28 s-color-title m-0 ms-3">Alternative Products</h2>
                            <a href="/shop" class="btn btn-link s-fs-16 s-color-p m-0 text-nowrap" title="View All">
                                View All<i class="ms-2 fa fa-angle-right s-fs-24"/>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="container o_not_editable p-0">
                    <div class="css_non_editable_mode_hidden">
                        <div class="missing_option_warning alert alert-info rounded-0 fade show d-none d-print-none o_default_snippet_text">
                            Your Dynamic Snippet will be displayed here...
                            This message is displayed because youy did not provide both a filter and a template to use.
                        </div>
                    </div>
                    <div class="dynamic_snippet_template"></div>
                </div>
            </section>
        </div>
    </template>

    <template id="accessories_product_bits" name="Accessories">
        <div class="oe_structure oe_structure_solo oe_unremovable oe_unmovable" id="oe_structure_website_sale_recommended_products_accessories_product_bits" t-if="product.accessory_product_ids">
            <section data-snippet="s_dynamic_snippet_products" class="oe_unmovable oe_unremovable s_dynamic_snippet_products o_wsale_alternative_products s_dynamic pt32 pb32 o_colored_level s_product_product_bits_1" data-name="Alternative Products" style="background-image: none;" t-att-data-filter-id="product._get_accessory_product_filter()" data-template-key="theme_crest.dynamic_filter_template_product_product_bits_1" data-product-category-id="all" data-number-of-elements="4" data-number-of-elements-small-devices="1" data-number-of-records="16" data-carousel-interval="5000" data-bs-original-title="" title="">
                <div class="container mb-2 p-0" id="bits-title-style-4">
                    <div class="row m-auto">
                        <div class="col-12 mx-auto d-flex justify-content-between px-0 align-items-center">
                            <h2 class="s-fs-28 s-color-title m-0 ms-3">Accessories Products</h2>
                            <a href="/shop" class="btn btn-link s-fs-16 s-color-p m-0 text-nowrap" title="View All">
                                View All<i class="ms-2 fa fa-angle-right s-fs-24"/>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="container o_not_editable p-0">
                    <div class="css_non_editable_mode_hidden">
                        <div class="missing_option_warning alert alert-info rounded-0 fade show d-none d-print-none o_default_snippet_text">
                            Your Dynamic Snippet will be displayed here...
                            This message is displayed because youy did not provide both a filter and a template to use.
                        </div>
                    </div>
                    <div class="dynamic_snippet_template"></div>
                </div>
            </section>
        </div>
    </template>
    <template id="related_products_bits" name="Alternative Products" inherit_id="theme_crest.product_replace_bits">
        <xpath expr="//div[hasclass('related_product_container')]" position="inside">
            <div class="contailer-fluid">
                <t t-if="product.alternative_product_ids and product.accessory_product_ids and is_alternative and is_accessories">
                    <t t-set="_col_class" t-value="'col-12 col-md-6 col-lg-6'"/>
                </t>
                <t t-else="">
                    <t t-set="_col_class" t-value="'col-12 col-md-12 col-lg-12'"/>
                </t>
                <div class="row m-auto">
                    <div t-if="is_alternative and product.alternative_product_ids" t-attf-classs="#{_col_class}">
                        <t t-call="theme_crest.alternative_product_bits"/>
                    </div>
                    <div t-if="is_accessories and product.accessory_product_ids" t-attf-classs="#{_col_class}">
                        <t t-call="theme_crest.accessories_product_bits"/>
                    </div>
                </div>
            </div>
        </xpath>
    </template>
    <!-- product share buttons -->
    <template id="s_share_bits" name="Share">
        <div t-attf-class="s_share text-start o_no_link_popover #{_classes} mt-3">
            <a href="https://www.facebook.com/sharer/sharer.php?u={url}" t-attf-class="s_share_facebook me-1 my-0" target="_blank" aria-label="Facebook">
                <i t-attf-class="fa fa-facebook #{not _link_classes and 'rounded shadow-sm'}"/>
            </a>
            <a href="https://twitter.com/intent/tweet?text={title}&amp;url={url}" t-attf-class="s_share_twitter me-1 my-0" target="_blank" aria-label="Twitter">
                <i t-attf-class="fa fa-twitter #{not _link_classes and 'rounded shadow-sm'}"/>
            </a>
            <a href="https://www.linkedin.com/sharing/share-offsite/?url={url}" t-attf-class="s_share_linkedin me-1 my-0" target="_blank" aria-label="LinkedIn">
                <i t-attf-class="fa fa-linkedin #{not _link_classes and 'rounded shadow-sm'}"/>
            </a>
            <a href="https://wa.me/?text={title + url}" t-attf-class="s_share_whatsapp " target="_blank" aria-label="WhatsApp">
                <i t-attf-class="fa fa-whatsapp #{not _link_classes and 'rounded shadow-sm'}"/>
            </a>
            <a href="mailto:?body={url}&amp;subject={title}" t-attf-class="s_share_email" aria-label="Email">
                <i t-attf-class="fa fa-envelope #{not _link_classes and 'rounded shadow-sm'}"/>
            </a>
            <a href="https://pinterest.com/pin/create/button/?url={url}&amp;media={media}&amp;description={title}" t-attf-class="s_share_pinterest me-1 my-0" target="_blank" aria-label="Pinterest">
                <i t-attf-class="fa fa-pinterest #{not _link_classes and 'rounded shadow-sm'}"/>
            </a>
        </div>
    </template>
    <template id="productinquiry_dialog_bits" name="Product Inquiry Dialog Bits">
        <section class="s_website_form s_website_form_crm">
            <div class="container">
                <form id="contactus_form"  method="post" class="o_mark_required" >
                    <div class="s_website_form_rows row s_col_no_bgcolor">
                        <div class="mb-0 py-2 col-12 s_website_form_field s_website_form_custom s_website_form_required" data-type="char" data-name="Field">
                            <div class="row s_col_no_resize s_col_no_bgcolor">
                                <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="contact1">
                                    <span class="s_website_form_label_content">Name</span>
                                    <span class="s_website_form_mark"> *</span>
                                </label>
                                <div class="col-sm">
                                    <input id="contact1" type="text" class="form-control s_website_form_input" name="name" required="" data-fill-with="name"/>
                                </div>
                            </div>
                        </div>
                        <div class="mb-0 py-2 col-12 s_website_form_field s_website_form_custom" data-type="char" data-name="Field">
                            <div class="row s_col_no_resize s_col_no_bgcolor">
                                <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="contact2">
                                    <span class="s_website_form_label_content">Phone Number</span>
                                </label>
                                <div class="col-sm">
                                    <input id="contact2" type="tel" class="form-control s_website_form_input" name="phone" data-fill-with="phone"/>
                                </div>
                            </div>
                        </div>
                        <div class="mb-0 py-2 col-12 s_website_form_field s_website_form_required s_website_form_model_required" data-type="email" data-name="Field">
                            <div class="row s_col_no_resize s_col_no_bgcolor">
                                <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="contact3">
                                    <span class="s_website_form_label_content">Email</span>
                                    <span class="s_website_form_mark"> *</span>
                                </label>
                                <div class="col-sm">
                                    <input id="contact3" type="email" class="form-control s_website_form_input" name="email_from" required="1" data-fill-with="email"/>
                                </div>
                            </div>
                        </div>

                        <div class="mb-0 py-2 col-12 s_website_form_field s_website_form_custom s_website_form_required" data-type="text" data-name="Field">
                            <div class="row s_col_no_resize s_col_no_bgcolor">
                                <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="contact6">
                                    <span class="s_website_form_label_content">Question</span>
                                </label>
                                <div class="col-sm">
                                    <textarea id="contact6" class="form-control s_website_form_input" name="description"></textarea>
                                </div>
                            </div>
                        </div>
                        <div class="mb-0 py-2 col-12 s_website_form_field s_website_form_dnone">
                            <div class="row s_col_no_resize s_col_no_bgcolor">
                                <div class="col-sm">
                                    <!-- <input id="contact7" type="hidden" class="form-control s_website_form_input" name="email_to"/> -->
                                    <input id="product_id" type="hidden" class="form-control s_website_form_input" name="product_id" t-att-value="product_id"/>
                                    <input id="product_name" type="hidden" class="form-control s_website_form_input" name="product_name" t-att-value="product_name"/>
                                </div>
                            </div>
                        </div>
                        <div class="mb-0 py-2 col-12 s_website_form_submit" data-name="Submit Button">
                            <div style="width: 200px;" class="s_website_form_label"/>
                            <a href="#" role="button" class="btn btn-primary s_website_form_send_submit">Submit</a>
                            <span id="s_website_form_result"></span>
                        </div>
                    </div>
                </form>
            </div>
        </section>
    </template>
</odoo> 
