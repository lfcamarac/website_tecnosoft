<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Snippet Definition -->
    <template id="s_zenith_mega_menu_dynamic" name="Dynamic Mega Menu">
        <section class="s_zenith_mega_menu_dynamic pt-4 pb-4 bg-dark text-white shadow-lg position-relative">
            <div class="container">
                <div class="dynamic_menu_content row">
                     <!-- Spinner / Loading State -->
                     <div class="col-12 text-center py-5">
                         <div class="spinner-border text-primary" role="status">
                            <span class="visually-hidden">Loading...</span>
                         </div>
                     </div>
                </div>
            </div>
        </section>
    </template>

    <!-- QWeb Template for JS Rendering -->
    <!-- QWeb Template for JS Rendering (DISABLED: web.assets_frontend not found in Odoo 18 context) -->
    <!--
    <template id="dynamic_mega_menu_template_assets" name="Dynamic Menu Assets" inherit_id="web.assets_frontend">
        <xpath expr="." position="inside">
             <t t-name="theme_zenith.DynamicMegaMenuTemplate">
                <t t-foreach="categories" t-as="cat" t-key="cat.id">
                    <div class="col-6 col-md-4 col-lg-2 mb-4">
                        <a t-att-href="cat.url" class="text-decoration-none">
                            <h6 class="fw-bold text-uppercase text-white mb-3 pb-2 border-bottom border-secondary d-flex justify-content-between align-items-center hover-primary">
                                <t t-esc="cat.name"/>
                                <i class="fa fa-chevron-right small opacity-50"></i>
                            </h6>
                        </a>
                        <ul class="list-unstyled mb-0" t-if="cat.children.length">
                            <t t-foreach="cat.children" t-as="child" t-key="child.id">
                                <li class="mb-2">
                                    <a t-att-href="child.url" class="text-white-50 text-decoration-none small hover-white transition-all">
                                        <t t-esc="child.name"/>
                                    </a>
                                </li>
                            </t>
                        </ul>
                    </div>
                </t>
             </t>
        </xpath>
    </template>
    -->
</odoo>
