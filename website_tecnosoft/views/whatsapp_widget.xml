<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="tecnosoft_whatsapp_widget" inherit_id="website.layout" name="Floating WhatsApp Widget" active="False">
        <xpath expr="//div[@id='wrapwrap']" position="inside">
            <div class="tecnosoft-whatsapp-widget" t-if="res_company.phone">
                <!-- Configura tu número aquí o toma el de la compañía -->
                <a t-att-href="'https://wa.me/%s' % res_company.phone.replace('+', '').replace(' ', '')" target="_blank" class="whatsapp-btn d-flex align-items-center justify-content-center text-decoration-none shadow-lg">
                    <i class="fa fa-whatsapp fa-2x text-white"></i>
                    <span class="whatsapp-tooltip position-absolute bg-white text-dark py-1 px-3 rounded shadow-sm fw-bold">Chat with us!</span>
                </a>
            </div>
            <style>
                .tecnosoft-whatsapp-widget {
                    position: fixed;
                    bottom: 30px;
                    right: 30px;
                    z-index: 9999;
                }
                .whatsapp-btn {
                    width: 60px;
                    height: 60px;
                    background-color: #25D366;
                    border-radius: 50%;
                    transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
                }
                .whatsapp-btn:hover {
                    transform: scale(1.1);
                }
                .whatsapp-tooltip {
                    right: 70px;
                    opacity: 0;
                    visibility: hidden;
                    transition: all 0.3s ease;
                    white-space: nowrap;
                    font-size: 0.9rem;
                }
                .whatsapp-btn:hover .whatsapp-tooltip {
                    opacity: 1;
                    visibility: visible;
                    right: 80px;
                }
            </style>
        </xpath>
    </template>
</odoo>
